<h1>Cal<b>KoW</b>lator</h1>

<div>
    <h2>Charge 1</h2>
    <style>
        .inputs-table input {
            width: 40px;
        }
    </style>
    <table class="inputs-table">
        <tr style="border-bottom: 1px solid black">
            <th>Attacker</th>
            <th>Active</th>
            <th>Me</th>
            <th>Att</th>
            <th>CS</th>
            <th>TC</th>
            <th>Elite</th>
            <th>Vicious</th>
        </tr>

        <tr *ngFor="let attacker of attackers; let index = index">
            <td>Attacker {{ index + 1 }}</td>
            <td><input type="checkbox" [(ngModel)]="attacker.active"></td>
            <td><input type="number" min="2" max="6" [(ngModel)]="attacker.melee"></td>
            <td><input type="number" min="0" max="100" [(ngModel)]="attacker.attack"></td>
            <td><input type="number" min="0" max="6"></td>
            <td><input type="number" min="0" max="6"></td>
            <td><input type="checkbox" [(ngModel)]="attacker.elite"></td>
            <td><input type="checkbox" [(ngModel)]="attacker.vicious"></td>
            <td><button (click)="removeAttacker(index)">Remove</button></td>
        </tr>

        <tr>
            <button (click)="addAttacker()">Add attacker</button>
        </tr>
    </table>
    <label>
        Defense: 
        <input type="number" min="2" max="6" [(ngModel)]="defense">
    </label>
</div>

<button (click)="calculate()">Calculate</button>

<div *ngIf="!error && result" class="results">
    <style>
        .results td {
            border: 1px solid lightgray
        }
    </style>

    <h2>Result</h2>
    <table>
        <tr *ngFor="let entry of result">
            <td>{{entry.hits}}</td>
            <td>{{entry.fraction}}</td>
            <td>{{entry.percent}}</td>
        </tr>
    </table>
    <span>Average: {{ this.average }} {{ this.averageFraction }} </span>
    
    <h2>Difference</h2>
    <table>
        <tr *ngFor="let entry of difference">
            <td>{{entry.hits}}</td>
            <td>{{entry.fraction}}</td>
            <td>{{entry.percent}}</td>
        </tr>
    </table>
</div>
<h1 *ngIf="error">There was an error!</h1>